version: 1
frontend:
  phases:
    preBuild:
      commands:
        # Forzamos la instalaci칩n y uso de Node 18
        - nvm install 18
        - nvm use 18
        - node -v # Esto imprimir치 "v18.x.x" en el log
        - npm -v  # Esto imprimir치 la versi칩n de npm
    build:
      commands:
        # Instala dependencias
        - npm ci
  artifacts:
    baseDirectory: /
    files:
      - server.js
      - package.json
      - package-lock.json
      - public/**/*
  cache:
    paths:
      - node_modules/**/*
